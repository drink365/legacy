import streamlit as st

st.set_page_config(page_title="éºç”¢ç¨…è©¦ç®—èˆ‡å£“ç¸®", page_icon="ğŸ“Š", layout="wide")

st.markdown("### ğŸ“Š éºç”¢ç¨…è©¦ç®—èˆ‡å£“ç¸®ï¼ˆå±•ç¤ºç‰ˆï¼‰")
st.caption("å…ˆçœ‹ç¨…ï¼Œå†æ’è§£ã€‚ç”¨ä¿å–®èˆ‡ç¯€é»è¨­è¨ˆï¼Œå£“ç¸®æœªä¾†ç¨…è² èˆ‡é¢¨éšªã€‚")

c1, c2, c3 = st.columns(3)
with c1:
    estate_total = st.number_input("éºç”¢ç¸½é¡ï¼ˆå…ƒï¼‰", min_value=0, step=1_000_000, value=300_000_000)
with c2:
    liabilities = st.number_input("å¯æ‰£é™¤è² å‚µï¼ˆå…ƒï¼‰", min_value=0, step=500_000, value=20_000_000)
with c3:
    dependents = st.number_input("ç›´ç³»è¦ªå±¬äººæ•¸ï¼ˆä¼°ï¼‰", min_value=0, value=3)

st.divider()

taxable = max(estate_total - liabilities - dependents * 4_000_000 - 13_000_000, 0)  # ç¤ºæ„
est_tax = int(taxable * 0.1) if taxable <= 50_000_000 else int(50_000_000*0.1 + (taxable-50_000_000)*0.2)

colx, coly = st.columns(2)
with colx:
    st.metric(label="å¯èƒ½èª²ç¨…åŸºï¼ˆç¤ºæ„ï¼‰", value=f"{taxable:,.0f} å…ƒ")
with coly:
    st.metric(label="å¯èƒ½éºç”¢ç¨…é¡ï¼ˆç¤ºæ„ï¼‰", value=f"{est_tax:,.0f} å…ƒ")

st.warning("ä»¥ä¸Šç‚ºæ•™å­¸ç¤ºæ„ï¼Œå¯¦å‹™éœ€ä¾ç¾è¡Œæ³•è¦ã€æ‰£é™¤èˆ‡å…ç¨…é …ç›®ã€è³‡ç”¢æ€§è³ªèˆ‡æ™‚é»èª¿æ•´ã€‚")

st.markdown("#### ğŸ§­ å£“ç¸®æ–¹å‘ï¼ˆæ‘˜è¦ï¼‰")
st.success(
    "- **ä¿å–®é…ç½®**ï¼šä»¥å£½éšªä½œç‚ºã€ŒæŒ‡å®šå—ç›Šã€èˆ‡ã€Œåƒ¹å€¼å£“ç¸®ã€å·¥å…·ï¼Œé™ä½èª²ç¨…åŸºã€‚\n"
    "- **è´ˆèˆ‡ç¯€é»**ï¼šæ´»ç”¨æ™‚é»èˆ‡é‡‘é¡åˆ†æ•£ï¼Œæ­é…è®Šæ›´è¦ä¿äººèˆ‡å—ç›Šäººï¼Œæé«˜æ•ˆç‡ã€‚\n"
    "- **è·¨ä»£è¨­è¨ˆ**ï¼šæŒ‡å®šç¬¬ä¸‰ä»£éƒ¨åˆ†å—ç›Šï¼Œç¶­æŒè³‡ç”¢ç§©åºï¼Œé¿å…çˆ­è­°ã€‚\n"
    "- **ç¾é‡‘æµ**ï¼šé ç•™ç¨…æºèˆ‡è²»ç”¨åŸºé‡‘ï¼Œé¿å…è¢«è¿«å”®è³‡ç”¢ã€‚"
)
